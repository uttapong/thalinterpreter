<div class="row" data-ng-controller="TypingsController" data-ng-init="findOne()">
  <div class="col-xs-12 page-header">
    <h1>Typing ID: {{typing.typingid}} </h1>
  </div>
  <div class="col-xs-6">

    <div class="col-xs-12 pull-right" data-ng-show="((authentication.user) && (authentication.user._id == typing.user._id))">

      <form class="form-inline" data-ng-submit="uploadFile()" method="post" enctype="multipart/form-data">

        <div class="form-group">

          <label for="exampleInputEmail1">{{ 'UPLOAD_FILE' | translate }}</label>
          <input name="uploadfile" type="file" ng-file-select="onFileSelect($files)" />
          <p class="help-block">{{ 'ACCEPT_ONLY_JPG_PNG' | translate }}</p>
        </div>
        <button class="btn btn-info" type="submit" value="submit"><i class="fa fa-cloud-upload"></i> {{ 'UPLOAD' | translate }}</button>
        <div class="progress class=" col-xs-12 "">
          <div class="progress-bar progress-bar-success progress-bar-striped" progress-bar="uploadProgress" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
            <span ng-bind="uploadProgress"></span>
            <span class="sr-only">%</span>
          </div>
        </div>
      </form>
    </div>


    <small class="col-xs-12">
      <em class="text-muted">
        {{ 'POSTED_ON' | translate }}
        <span data-ng-bind="typing.created | date:'mediumDate'"></span>
        {{ 'BY' | translate }}
        <span data-ng-bind="typing.user.displayName"></span>
      </em>
    </small>
    <div class="meta-typing">
      <p>{{ 'TYPING_ID' | translate }}: {{typing.typingid}}</p>
      <p>{{ 'SUBMITTED_DATE' | translate }}: {{typing.created|date}}</p>
      <p>{{ 'AGE' | translate }}: {{typing.age}}</p>
      <p>{{ 'GENDER' | translate }}: {{typing.gender}}</p>
    </div>
    <div class="page-content col-xs-12">

      <table class="table-striped table col-xs-12">
        <thead>
          <tr>
            <th ng-repeat="(key, value) in typing.typing">{{key}}</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td ng-repeat="(key, value) in typing.typing">{{value| number: 2}}</td>
          </tr>
        </tbody>
      </table>
      <hr />
      <h4>{{ 'SUBMITTED_DATE' | translate }}</h4>
      <p style="color: #dc4136;">
        <strong>{{typing.resultmap.results.join(', ')}}</strong>
      </p>
    </div>

    <div class="page-content col-xs-12" style="margin-bottom: 20px;" ng-show="typing.image">
      <h4>{{ 'TYPING_IMAGE' | translate }}</h4>
      <a target="_blank" href="/uploads/typingimage/{{typing.typingid}}/{{typing.image}}">
        <img class="col-xs-6" ng-src="/uploads/typingimage/{{typing.typingid}}/{{typing.image}}" />
      </a>
    </div>
  </div>
  <div class="col-xs-6">
		<div class="page-content col-xs-12 text-right" style="margin-bottom: 10px;">
			<a class="btn btn-info" href="/#!/typings/{{typing._id}}/edit">
        <i class="glyphicon glyphicon-edit"></i> {{ 'EDIT' | translate }}
      </a>

      <a class="btn btn-info" target="_blank" href="/printview/{{typing._id}}">
        <i class="fa fa-bar-chart"></i> {{ 'VIEW_REPORT' | translate }}
      </a>
			<button class="btn btn-info" href="/typingreport/{{typing._id}}" ng-click="printChart(typing._id)">
				<i class="fa fa-print"></i> {{ 'PRINT_REPORT' | translate }}
			</button>
			<a class="btn btn-danger" data-ng-click="remove();">
        <i class="glyphicon glyphicon-trash"></i>
      </a>
		</div>
    <iframe id="frame" ng-src="{{printurl}}"></iframe>
  </div>

</div>
